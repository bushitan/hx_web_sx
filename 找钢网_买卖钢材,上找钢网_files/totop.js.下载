function goTop(i){$(document).totop(i)}!function(i){i.fn.totop=function(t){var o={showtell:!0,showcar:!1,showewm:!0,showwrite:!0,showtotop:!0},s=i.extend({},o,t),e=(i(this),{fn_structure:function(){var t='<span class="lose-efficacy">已失效</span>',o='<span class="surplus">仅剩2件</span>',s='<div class="toolbar-section toolbar-section-tell"><i class="icon icon-tell"></i><div class="toolbar-section-inner">在线客服</div></div>',e='<div class="toolbar-section toolbar-section-car"><span class="num">2</span><i class="icon icon-car"></i><div class="toolbar-section-inner">购物车</div></div>',n='<div class="toolbar-section toolbar-section-ewm"><i class="icon icon-ewm"></i><div class="toolbar-section-ewm-inner"><div class="ewm-top"><img src="http://static-online.zhaogang.com/project/ued/mall/local/Resources/index/newimages/zs-ewm.jpg" alt=""><span>下载找钢指数</span></div><div class="ewm-bottom"><img src="http://static-online.zhaogang.com/project/ued/mall/local/Resources/index/newimages/sd-ewm.jpg" alt=""><span>关注找钢视点</span></div></div></div>',l=' <div class="toolbar-section toolbar-section-write"><i class="icon icon-write"></i><div class="toolbar-section-inner">反馈</div></div>',c='<div class="toolbar-section toolbar-section-totop"><i class="icon icon-totop"></i><div class="toolbar-section-inner">顶部</div></div>',a='<div class="sidelist-title">购物车<i class="icon icon-what"></i><i class="icon icon-close"></i></div>',d='<div class="item"><div class="item-top"><div class="title item-left"><div class="name">鞍钢天铁  优化有油镀锌卷</div>'+t+'</div><div class="price item-right">￥3360</div></div><div class="item-middle"><div class="title item-left">SPCCT-DX10  2.25*1250*C</div><div class="input item-right"><input type="text" readonly class="only"></div></div><div class="item-bottom"><div class="title item-left"><span>上海市</span>/ 建材超市 / 20.15吨</div><div class="delete item-right"><a href="javascript:;">删除</a></div></div></div>',r='<div class="item"><div class="item-top"><div class="title item-left"><div class="name">鞍钢天铁  优化有油镀锌卷</div>'+o+'</div><div class="price item-right">￥3360</div></div><div class="item-middle"><div class="title item-left">SPCCT-DX10  2.25*1250*C</div><div class="input item-right"><input type="text"></div></div><div class="item-bottom"><div class="title item-left"><span>上海市</span>/ 建材超市 / 20.15吨</div><div class="delete item-right"><a href="javascript:;">删除</a></div></div></div>',v='<ul class="dropdown-list"><li class="default">的似懂非懂是</li><li>实得分是</li><li>的似懂非懂是</li><li>实得分是</li><li>的似懂非懂是</li><li>实得分是</li><li>的似懂非懂是</li><li>实得分是</li></ul>',p='<div class="slidelist-total"><div class="slidelist-select"><div class="dropdown-input"><input type="text" readonly/><i class="arrow"></i>'+v+'</div><a href="javascript:;">新增</a></div><div class="slidelist-action"><div class="slidelist-totalleft"><div class="top">共计<b> 3 </b>件<b> 1.855 </b>吨</div><div class="bottom"><b class="number"> 18878.30 </b>元</div></div><div class="slidelist-totalright"><button>立即锁货</button></div></div></div>',u='<div class="sidelist-bottom"><div class="sidelist-clear"><a href="javascript:;">清除所有货物</a></div>'+p+"</div>",m='<div class="sidelist-item">'+d+r+"</div>",f='<div class="sidetoolbar"><div class="toolbar">'+s+e+n+l+c+'</div><div class="sidelistwrap">'+a+m+u+"</div></div>";i("body").append(f)},fn_mouse:function(){i(document).on({mouseenter:function(){i(this).addClass("active"),i(this).find(".toolbar-section-inner").stop().animate({left:"-59px"})},mouseleave:function(){i(this).removeClass("active"),i(this).find(".toolbar-section-inner").stop().animate({left:"0"})}},".toolbar-section"),i(document).on({mouseenter:function(){i(this).addClass("active"),i(this).find(".toolbar-section-ewm-inner").show().stop().animate({opacity:1},300)},mouseleave:function(){i(this).removeClass("active"),i(this).find(".toolbar-section-ewm-inner").stop().animate({opacity:0},300,function(){i(this).hide()})}},".toolbar-section-ewm"),i(document).on("click",".toolbar",function(i){i.stopPropagation()})},fn_totop:function(){i(document).on("click",".toolbar-section-totop",function(){i("body,html").animate({scrollTop:0},500)});var t=i(window).height();i(window).scroll(function(){i(window).scrollTop()>=t?i(".toolbar-section-totop").show().stop().animate({opacity:1},300,function(){i(this).find(".toolbar-section-inner").show()}):(i(".toolbar-section-totop").hide().find(".toolbar-section-inner").hide(),i(".toolbar-section-totop").stop().animate({opacity:0},300))})},fn_state:function(){s.showtell||i(".toolbar-section-tell").hide(),s.showcar||i(".toolbar-section-car").hide(),s.showewm||i(".toolbar-section-ewm").hide(),s.showtwrite||i(".toolbar-section-twrite").hide(),s.showtell||i(".toolbar-section-tell").hide()},fn_qq:function(){i(document).on("click",".toolbar-section-tell",function(){i("#toolbar-toptell")[0].click()})},fn_write:function(){i(document).on("click",".toolbar-section-write",function(){i(".hm-t-feedback-trigger").trigger("click")})},fn_delete:function(){i(document).on("click",".sidelist-item .item .delete",function(){i(this).parents(".item").remove()}),i(document).on("click",".sidelist-clear a",function(){i(".sidelist-item .item").remove()})},fn_itemHeight:function(){var t=i(window).height()-i(".sidelist-title").outerHeight(!0)-i(".sidelist-bottom").outerHeight(!0);i(".sidelist-item").css("height",t),i(window).resize(function(){var t=i(window).height()-i(".sidelist-title").outerHeight(!0)-i(".sidelist-bottom").outerHeight(!0);i(".sidelist-item").css("height",t)})},fn_tip:function(){var t;i(document).on("click",".slidelist-totalright button",function(){var o=i(this),s='<div class="sidetoolbar-tip">请先删除已失效货物</div>';clearTimeout(t),i(".sidetoolbar").append(s),i(this).attr("disabled","true"),t=setTimeout(function(){i(".sidetoolbar-tip").remove(),o.removeAttr("disabled")},2e3)})},fn_slidebar:function(){var t=!0,o=!0;i(document).on("click",".sidetoolbar .toolbar-section-car",function(s){var e=i(this);e.removeClass("active").addClass("active1").find(".toolbar-section-inner").stop().animate({left:"0"}),s.stopPropagation(),t?(i(".sidetoolbar").stop().animate({right:0},500,function(){o=!0}),t=!1):(i(".sidetoolbar").stop().animate({right:"-340px"},500,function(){i(".toolbar-section-car").removeClass("active1")}),t=!0)}),i(document).on("click",function(s){t=!0,o&&(o=!1,i(".sidetoolbar").stop().animate({right:"-340px"},500,function(){o=!0,i(".toolbar-section-car").removeClass("active1")}))}),i(document).on("click",".sidelistwrap,.sidetoolbar-tip",function(t){t.stopPropagation(),i(".dropdown-list").fadeOut()}),i(document).on("click",".sidelist-title .icon-close",function(){t=!0,i(".sidetoolbar").stop().animate({right:"-340px"},500,function(){i(".toolbar-section-car").removeClass("active1")})})},fn_dropdown:function(){i(document).on("click",".dropdown-input input,.dropdown-input .arrow",function(t){t.stopPropagation(),i(".dropdown-list").fadeToggle()}),i(document).on("click",function(){i(".dropdown-list").fadeOut()}),i(document).on({click:function(){var t=i(this).html().replace(/(.*)<[^>]*>.*<\/[^>]*>(.*)/,"$1$2");i(this).parents(".slidelist-select").find(".dropdown-input input").val(t)},mouseenter:function(){var t='<span class="del">×</span>';i(this).hasClass("default")||i(this).append(t)},mouseleave:function(){i(this).find(".del").remove()}},".dropdown-list li"),i(document).on("click",".dropdown-list li .del",function(t){t.stopPropagation(),i(this).parents("li").remove()})},fn_addDealer:function(){i(document).on("click",".slidelist-select a",function(){var t=new CatPopup({template:'<div class="poplockadd"><div class="poplockadd_title">新增交易员</div><div>交易员姓名或工号：<input type="text"/></div><div class="th">工号错误</div> </div><div class="poplockadd_btn"><button class="btn_confirm">确定</button></div>'});i(document).on("click",".poplockadd_btn button",function(){t.close()})})},fn_lock:function(){i(document).on("click",".slidelist-totalright button",function(){var t=new CatPopup({template:'<div class="popwarn"><i class="success_icon"></i><div class="popwarn_title">您确定要购买这些产品吗？</div><div class="popwarn_btn"><button class="btn_confirm">确认并锁货</button><button class="btn_cancel">关闭</button></div></div>'});i(document).on("click",".popwarn_btn button",function(){t.close()})})},fn_what:function(){i(document).on({mouseenter:function(){layer.tips("设定时间内通过实时报价获得的订单数量",i(this),{tips:[2,"#000"],time:""})},mouseleave:function(){layer.closeAll()}},".icon-what")},init:function(){this.fn_structure(),this.fn_mouse(),this.fn_totop(),this.fn_state(),this.fn_qq(),this.fn_write(),this.fn_delete(),this.fn_itemHeight(),this.fn_slidebar(),this.fn_tip(),this.fn_dropdown(),this.fn_addDealer(),this.fn_lock(),this.fn_what()}});e.init()}}(jQuery);